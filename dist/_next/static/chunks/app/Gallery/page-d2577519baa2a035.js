(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[838],{6487:function(e,l,a){Promise.resolve().then(a.bind(a,3171))},3171:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return Home}});var s=a(7437),t=a(8655),i=a(7843),n=a(9160),r=a(2265),c=a(3198),d=a(6168),o=a(5118),m=a(4534),h=a(4639),p=a(2832);let u=[5,10,15,20];function Home(){var e,l,a;let[x,j]=(0,r.useState)([]),[f,v]=(0,r.useState)([]),[_,g]=(0,r.useState)([]),[N,b]=(0,r.useState)(!1),[D,S]=(0,r.useState)(!1),[C,k]=(0,r.useState)(!1),[A,w]=(0,r.useState)(null),[y,F]=(0,r.useState)(null),E=(0,c.v9)(d.CT),R=(0,c.v9)(d.Yk),O=(0,c.v9)(d.nO),I=(0,c.v9)(d.QS),L=(0,c.v9)(d.K5);(0,r.useEffect)(()=>{!1===D&&w(null)},[D,y]);let fetchDataFromApi=async()=>{let[e,l]=await Promise.all([(0,p.Jx)({breedFilter:E,imageCount:R,uploadDataSort:O,typeImage:I}),(0,p._l)()]),a=e.map(e=>{let a=l.find(l=>l.image_id===e.id);return{...e,isFavorite:!!a}});j(a),g(l)};(0,r.useEffect)(()=>{(0,p.yY)({breedFilter:E,imageCount:R,uploadDataSort:O}).then(e=>{v(e)}),fetchDataFromApi()},[]),(0,r.useEffect)(()=>{fetchDataFromApi()},[E,R,O,I,L]);let handleModalToggle=()=>{b(!N)};return(0,s.jsx)("main",{className:"main",children:(0,s.jsx)("div",{className:"container right-blok",children:(0,s.jsxs)("div",{className:"main__row",children:[(0,t.l)(),(0,s.jsxs)("div",{className:"main-right",children:[(0,i.c)(),(0,s.jsxs)("div",{className:"right__content gallery",children:[(0,s.jsxs)("div",{className:"content__header",children:[(0,n.b)({tabname:"GALLERY"}),(0,s.jsx)("div",{className:"nav__btn nav__btn--upload",onClick:handleModalToggle,children:"UPLOAD"})]}),(0,s.jsxs)("div",{className:"filter-panel",children:[(0,s.jsxs)("div",{className:"filter-panel_top",children:[(0,s.jsxs)("div",{className:"filter-section",children:[(0,s.jsx)("label",{className:"filter-label",htmlFor:"",children:"ORDER"}),function(){let e=(0,c.I0)(),l=(0,c.v9)(d.nO),handleSort=l=>{e((0,d.Hn)(l))};return(0,s.jsxs)("div",{children:[l?(0,s.jsx)("div",{className:"filter_section-option",children:"DESC"===l?"Desc":"ASC"===l?"Asc":"Random"}):(0,s.jsx)("div",{className:"filter_section-option",children:"Random"}),(0,s.jsx)("div",{className:"filter__list-wrapper",children:(0,s.jsxs)("ul",{className:"filter__list-dropdown",children:[(0,s.jsx)("li",{"data-value":"rand",onClick:()=>handleSort("RANDOM"),children:"Random"}),(0,s.jsx)("li",{"data-value":"desc",onClick:()=>handleSort("DESC"),children:"Desc"}),(0,s.jsx)("li",{"data-value":"asc",onClick:()=>handleSort("ASC"),children:"Asc"})]})})]})}()]}),(0,s.jsxs)("div",{className:"filter-section",children:[(0,s.jsx)("label",{className:"filter-label",htmlFor:"",children:"TYPE"}),function(){let e=(0,c.I0)(),l=(0,c.v9)(d.QS),handleSort=l=>{e((0,d.f5)(l))};return(0,s.jsxs)("div",{children:[l?(0,s.jsx)("div",{className:"filter_section-option",children:"jpg,png,gif"===l?"All":"jpg,png"===l?"Static":"Animated"}):(0,s.jsx)("div",{className:"filter_section-option",children:"All"}),(0,s.jsx)("div",{className:"filter__list-wrapper",children:(0,s.jsxs)("ul",{className:"filter__list-dropdown",children:[(0,s.jsx)("li",{onClick:()=>handleSort("jpg,png,gif"),children:"All"}),(0,s.jsx)("li",{onClick:()=>handleSort("jpg,png"),children:"Static"}),(0,s.jsx)("li",{onClick:()=>handleSort("gif"),children:"Animated"})]})})]})}()]})]}),(0,s.jsxs)("div",{className:"filter-panel_bottom",children:[(0,s.jsxs)("div",{className:"filter-section filter-section-breed",children:[(0,s.jsx)("label",{className:"filter-label",htmlFor:"",children:"BREED"}),(0,o.E)(f,"None")]}),(0,s.jsxs)("div",{className:"filter-section",children:[(0,s.jsx)("label",{className:"filter-label",htmlFor:"",children:"LIMIT"}),(0,m.G)({options:u,text:"$ items per page"})]}),(e=()=>{(0,p.Jx)({breedFilter:E,imageCount:R,uploadDataSort:O}).then(e=>{j(e)})},(0,s.jsx)("button",{onClick:()=>{e()},className:"filter-btn filter-section"}))]})]}),function(e,l){let a=(0,c.I0)();return(0,r.useEffect)(()=>{a((0,d.mc)())},[]),e.length?(0,s.jsx)("div",{className:"gallery breeds__gallery",children:(0,s.jsx)("div",{className:"gallery__items",children:e.map(e=>(0,s.jsxs)("div",{className:"gallery__item",children:[(0,s.jsx)("img",{src:e.url,alt:""}),(0,s.jsx)("button",{className:"gallery_btn-favorite svg ".concat(e.isFavorite?"delete-favourite":""),onClick:()=>l(e.id,e.isFavorite)})]},e.id+"galleryItem"))})}):(0,s.jsxs)("div",{className:"lds-roller",children:[(0,s.jsx)("div",{}),(0,s.jsx)("div",{}),(0,s.jsx)("div",{}),(0,s.jsx)("div",{}),(0,s.jsx)("div",{}),(0,s.jsx)("div",{}),(0,s.jsx)("div",{}),(0,s.jsx)("div",{})]})}(x,(e,l)=>{let a=_.find(l=>l.image_id===e);l?(0,p.r7)(a.id).then(()=>{fetchDataFromApi();let l=x.map(l=>l.id===e?{...l,isFavorite:!1}:l);j(l)}):(0,p.Jh)(e).then(()=>{fetchDataFromApi();let l=x.map(l=>l.id===e?{...l,isFavorite:!0}:l);j(l)})})]})]}),N&&(l=e=>{e.preventDefault(),k(!0)},(0,s.jsx)("div",{className:"modal",children:(0,s.jsx)("div",{className:"modal__container",children:(0,s.jsxs)("div",{className:"modal__content",children:[(0,s.jsx)("button",{className:"modal__close svg",onClick:handleModalToggle}),(0,s.jsx)("h2",{className:"modal__title",children:"Upload a .jpg or .png Cat Image"}),(0,s.jsxs)("p",{className:"modal__text",children:["Any uploads must comply with the ",(0,s.jsx)("a",{href:"https://thecatapi.com/privacy",target:"_blank",rel:"noreferrer noopener",className:"red-text",children:"upload guidelines"})," or face deletion."]}),(0,s.jsx)("form",{className:"modal__upload-window upload__window ".concat(C?"drag":" "," ").concat("error"===y?"upload-error":""),onDragEnter:l,onDragOver:l,onDragLeave:e=>{e.preventDefault(),k(!1)},onDrop:e=>{e.preventDefault(),k(!1);let l=e.dataTransfer.files;if(l&&l.length>0){let e=l[0];S([e]);let a=URL.createObjectURL(e);w(a)}},children:A?(0,s.jsx)("div",{className:"preview-image-container",children:(0,s.jsx)("img",{src:A,alt:"Preview",className:"preview-image"})}):(0,s.jsxs)("label",{className:"upload__window-instruction",children:[(0,s.jsx)("span",{className:"bold-text",children:"Drag here "}),(0,s.jsx)("span",{children:"your file or "}),(0,s.jsxs)("span",{className:"bold-text",children:[(0,s.jsx)("input",{type:"file",accept:".jpg, .jpeg, .png, .gif",multiple:!1,onChange:e=>{e.preventDefault();let l=e.target.files[0];if(l&&S([l]),l){let e=URL.createObjectURL(l);w(e)}},style:{display:"none"}}),"Click here"]}),(0,s.jsx)("span",{children:" to upload"})]})}),D.length>0?(0,s.jsxs)("p",{className:"modal__text",children:["Image File Name: ",null===(a=D[0])||void 0===a?void 0:a.name]}):(0,s.jsx)("p",{className:"modal__text",children:"No file selected"}),D&&"error"!==y&&(0,s.jsx)("button",{className:"upload__btn btn",onClick:e=>{e.preventDefault();let l=(0,p.Ix)(D[0]);l.then(e=>{console.log("Response:",e),F("success"),S(!1)}).catch(e=>{console.log("error",e),F("error")})},children:"UPLOAD PHOTO"}),"success"===y&&(0,s.jsx)("div",{className:"upload__status upload__status-success",children:"Thanks for the Upload - Cat found!"}),"error"===y&&(0,s.jsx)("div",{className:"upload__status upload__status-error",children:"No Cat found - try a different one"})]})})})),(0,h.R)()]})})})}}},function(e){e.O(0,[713,396,855,971,864,744],function(){return e(e.s=6487)}),_N_E=e.O()}]);